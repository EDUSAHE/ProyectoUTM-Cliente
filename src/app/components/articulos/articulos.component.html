<div class="container">
  
	<h3 class="center-align">Articulos</h3>

	<div class="row">
		<div class="col s6">
			<label class="">Fecha Inicial:</label>
			<input type="date" [(ngModel)]="fechaInicial" (change)="obtenerArticulos()">
		</div>
		<div class="col s6">
			<label>Fecha Final:</label>
			<input type="date" [(ngModel)]="fechaFinal" (change)="obtenerArticulos()">
		</div>
	</div>

	<table>
		<ng-container *ngFor="let articulo of articulos">
			<tr class="hide-line">
				<td colspan="6">
					<b class="color-blue">Capturado el {{articulo.fechaedicion}}</b><b class="color-red"> Validado</b>
				</td>
			</tr>

			<tr class="hide-line">
				<td colspan="6"><b>Titulo:</b> {{articulo.titulo}}<br></td>
			</tr>

			<tr class="hide-line">
				<td colspan="6">
					<b>Autores</b><br>
					<span *ngFor="let profesor of articulo.profesores;">
						{{profesor.nombreProfesor}}
						<a class="waves-effect waves-teal btn-flat"><i class="tiny material-icons">delete</i></a>
					</span>
				</td>
			</tr>

			<tr>
				<td style="width: 10%;">
					<b>Tipo</b><br><br>
					{{articulo.tipoCRL}}
				</td>
				<td style="width: 10%;">
					<b>Estado</b><br><br>
					{{articulo.estado}}
				</td>
				<td style="width: 10%;">
					<b>Año</b><br><br>
					{{articulo.anyo}}
				</td>
				<td style="width: 20%;">
					<b>Modificar</b><br><br>
					<a href="javascript: void(0);" class="space" (click)="ActualizarArticuloModal(articulo)"><i
							class="material-icons">edit</i>Editar</a>
					<a href="javascript: void(0);" (click)="ModalPrioridades(articulo.profesores)">
						<i class="material-icons">edit</i>Prioridades</a>
				</td>
				<td style="width: 20%;">
					<b>Agregar</b><br><br>
					<a href="javascript: void(0);" class="space"  (click)="ModalAutoresUTM()"><i class="material-icons">add</i>UTM</a>
					<a href="javascript: void(0);" (click)="ModalAutoresExternos()"><i class="material-icons" >add</i>Externo</a>
				</td>
				<td>
					<b>Opciones</b><br><br>
					<a href="javascript: void(0);" class="space">
						<i class="material-icons">edit</i>Modificar</a>
					<a href="javascript: void(0);" class="space">
						<i class="material-icons">delete</i>Eliminar</a>
					<a class="icono-archivo" *ngFor="let archivo of articulo.archivos"
						href="{{urlArchivos}}/{{archivo.idArchivoYArticulo}}.{{archivo.extension}}" target="_blank">
						<i class="material-icons small">{{archivo.icono}}</i>
					</a>
				</td>
			</tr>
		</ng-container>
	</table>
</div>




<!-- Modal Actualizar Prioridad -->
<div id="modalPrioridad" class="modal">
	<div class="modal-content">

		<div class="row" style="margin-bottom: 0px !important;">
			<div class="col s12">
				<h4 class="center">Prioridades</h4>
			</div>
		</div>


		<div style="border: .5px solid #78909c; padding: 10px;">
			<table>
				<tr>
					<th>Prioridad</th>
					<th>Nombre</th>
				</tr>

				<tr *ngFor="let profesor of ordenProfesores;let indice1=index" style="list-style: circle">
					<td>
						<select [(ngModel)]='profesor.pos' class="browser-default" value="Congreso">
							<option *ngFor="let profesor of ordenProfesores; let indice = index">{{indice+1}}</option>
						</select>
					</td>
					<td>
						{{profesor.nombre}}
					</td>
				</tr>


			</table>
			<br>
			<div class="row">
				<div class="col s6 center">
					<a class="modal-action modal-close waves-effect btn-large" (click)="MostrarOrden()">Guardar</a>
				</div>
				<div class="col s6 center">
					<a class="modal-action modal-close waves-effect btn-large">Regresar</a>
				</div>
			</div>
		</div>
	</div>
</div>

<!-- Modal Actualizar Articulo -->
<div id="ActualizarArticulo" class="modal">
	<div class="modal-content">
		<div class="row" style="margin-bottom: 0px !important;">
			<div class="col s12">
				<h3 class="center">Actualizar Publicación</h3>
			</div>
		</div>
		<div class="row" style="margin-bottom: 0px !important;">

		</div>
		<div style="border: .5px solid #78909c; padding: 10px;">
			<div class="row">

				<div class="col s12 " style="margin-bottom: 1rem;">
					<label>Congreso/Revista/Libro/Cap Libro</label>
					<select [(ngModel)]="ArticuloActual.tipCLR" class="browser-default" [value]="ArticuloActual.tipCLR">
						<option *ngFor="let tipo of tiposCLR" value="{{tipo}}">
							{{tipo}}
						</option>
					</select>
				</div>

				<div class="input-field col s12">
					<label for="articulo_titulo1" class="active">Titulo del Artículo</label>
					<input [(ngModel)]="ArticuloActual.titulo" id="articulo_titulo1" required type="text">
				</div>

				<div class="input-field col s12">
					<label for="articulo_nombreCRL1" class="active">Nombre del
						Congreso/Revista/Libro/Institución</label>
					<input [(ngModel)]="ArticuloActual.nombreCLR" id="articulo_nombreCLR1" required type="text">
				</div>

				<div class="col s12" style="margin-bottom: 1rem;">
					<label>Indexada</label>
					<select [(ngModel)]="ArticuloActual.indexa" class="browser-default" [value]="ArticuloActual.indexa">
						<option value="0">No</option>
						<option value="1">Si</option>
						<option value="JRC">JCR</option>
					</select>
				</div>

				<div class="col s12" style="margin-bottom: 1rem;">
					<label>Nacinal/Internacional</label>
					<select [(ngModel)]="ArticuloActual.tipoNI" class="browser-default" [value]="ArticuloActual.tipoNI">
						<option value="Nacional">Nacional</option>
						<option value="Internacional">Internacional</option>
					</select>
				</div>

				<div class="input-field col s12">
					<label for="articulo_volumen1" class="active">Volumen/Capítulo</label>
					<input [(ngModel)]="ArticuloActual.volumen" id="articulo_volumen1" required type="text">
				</div>

				<div class="input-field col s12">
					<input [(ngModel)]="ArticuloActual.numero" id="articulo_numero1" required type="text">
					<label for="articulo_numero1" class="active">Número</label>
				</div>

				<div class="input-field col s12">
					<label for="articulo_paginas1" class="active">Páginas</label>
					<input [(ngModel)]="ArticuloActual.paginas" id="articulo_paginas1" required type="text">

				</div>

				<div class="input-field col s12">
					<label for="articulo_anyo1" class="active">Año</label>
					<input [(ngModel)]="ArticuloActual.anyo" id="articulo_anyo1" required type="text">

				</div>

				<div class="input-field col s12">

					<label for="articulo_issnisbn1" class="active">Código ISSN/ISBN</label>
					<input [(ngModel)]="ArticuloActual.issnisbn" id="articulo_issnisbn1" required type="text">


				</div>

				<div class="input-field col s12">
					<label for="articulo_doi1" class="active">Doi</label>
					<input [(ngModel)]="ArticuloActual.doi" id="articulo_doi1" required type="text">

				</div>

				<div class="input-field col s12">
					<label for="articulo_editores1" class="active">Editores</label>
					<input [(ngModel)]="ArticuloActual.editores" id="articulo_editores1" required type="text">

				</div>

				<div class="input-field col s12">
					<label for="articulo_editorial1" class="active">Editorial</label>
					<input [(ngModel)]="ArticuloActual.editorial" id="articulo_editorial1" required type="text">

				</div>

				<div class="input-field col s12">
					<label for="articulo_pais1" class="active">País</label>
					<input [(ngModel)]="ArticuloActual.pais" id="articulo_pais1" required type="text">

				</div>

				<div class="input-field col s12">
					<label for="articulo_ciudad1" class="active">Ciudad</label>
					<input [(ngModel)]="ArticuloActual.cuidad" id="articulo_ciudad1" required type="text">

				</div>

				<div class="col s12" style="margin-bottom: 1rem;">
					<label>Estado del artículo</label>
					<select [(ngModel)]="ArticuloActual.estado" class="browser-default" [value]="ArticuloActual.estado">
						<option value="Enviado">Enviado</option>
						<option value="Aceptado">Aceptado</option>
						<option value="Publicado">Publicado</option>
					</select>
				</div>

				<div class="input-field col s12">
					<input [(ngModel)]="ArticuloActual.fechaEdicion" id="articulo_fechaedicion"
						[value]="ArticuloActual.fechaEdicion" required type="date">
					<label for="carrera_fechaedicion" class="active">Fecha de envío/aceptado/publicado</label>
				</div>

			</div>

			<div class="row">
				<div class="col s6 center">
					<a class="modal-action modal-close waves-effect btn-large"
						(click)="ActualizarP(ArticuloActual)">Actualizar</a>
				</div>
				<div class="col s6 center">
					<a class="modal-action modal-close waves-effect btn-large">Cancelar</a>
				</div>
			</div>
		</div>
	</div>
</div>


<!-- Modal Ageregar autores de la UTM -->
<div id="AutoresUTM" class="modal">
	<div class="modal-content">

		<div class="row" style="margin-bottom: 0px !important;">
			<div class="col s12">
				<h4 class="center">Autores UTM</h4>
			</div>
		</div>


		<div style="border: .5px solid #78909c; padding: 10px;">
			<table>
				<tr >
					<th><h6>Instituto</h6></th>
					<th style=" width:30rem;"> <select class="browser-default">
						<option value="Instituto de electrónica y mecatrónica">Instituto de electrónica y mecatrónica</option>
						<option value="Instituto de computación">Instituto de computación</option>
						<option value="Instituto de diseño">Instituto de diseño</option>
						<option value="Instituto de física y matemáticas">Instituto de física y matemáticas</option>
						<option value="Instituto de ciencias sociales y humanidades">Instituto de ciencias sociales y humanidades</option>
						<option value="Instituto de agroindustrias">Instituto de agroindustrias</option>
						<option value="Instituto de hidrología">Instituto de hidrología</option>
						<option value="Instituto de minería">Instituto de minería</option>
						<option value="Materiales">Materiales</option>
						<option value="Centro de Idiomas">Centro de Idiomas</option>
						<option value="Instituto de Ingeniería Industrial y Automotriz">Instituto de Ingeniería Industrial y Automotriz</option>
						<option value="Posgrado">Posgrado</option>
					</select></th>
				</tr>

				<tr *ngFor="let profesor of Profesores;">
				
					<th>
						<label>
							<input type="checkbox" [(ngModel)]="profesor.agregado" />
							<span>Agregar</span>
						  </label>
					</th>
					
					  
					<th style=" width:8rem; " > <select [(ngModel)]="profesor.prioridad" class="browser-default" style=" width:8rem; ">
						<option value="1">1</option>
						<option value="2">2</option>
						<option value="3">3</option>
						<option value="4">4</option>
						<option value="5">5</option>
						<option value="6">6</option>
						<option value="7">7</option>
						<option value="8">8</option>
						<option value="9">9</option>
						<option value="10">10</option>
					</select></th>

					<th style=" width:16rem;"><label>
						<h6>{{profesor.nombre}}</h6>
					  </label>

					</th>
					

			
					

				</tr>
				

				


			</table>
			<br>
			<div class="row">
				<div class="col s6 center">
					<a class="modal-action modal-close waves-effect btn-large" (click)="AutoresUTM()">Guardar</a>
				</div>
				<div class="col s6 center">
					<a class="modal-action modal-close waves-effect btn-large">Cancelar</a>
				</div>
			</div>
		</div>
	</div>
</div>

<!-- Modal Ageregar autores externos -->
<div id="AutoresExternos" class="modal">
	<div class="modal-content">

		<div class="row" style="margin-bottom: 0px !important;">
			<div class="col s12">
				<h4 class="center">Autores Externos</h4>
			</div>
		</div>


		<div style="border: .5px solid #78909c; padding: 10px;">
			<!--Tabla Sugerencias -->
			<table>
				<tr >
					<th><h6>Sugerencias</h6></th>
					
				</tr>

				<tr *ngFor="let profesor of Profesores2;">
				
					<th>
						<label>
							<input type="checkbox" [(ngModel)]="profesor.agregado" />
							<span>Agregar</span>
						  </label>
					</th>
					
					  
					<th style=" width:8rem; " > <select [(ngModel)]="profesor.prioridad" class="browser-default" style=" width:8rem; ">
						<option value="1">1</option>
						<option value="2">2</option>
						<option value="3">3</option>
						<option value="4">4</option>
						<option value="5">5</option>
						<option value="6">6</option>
						<option value="7">7</option>
						<option value="8">8</option>
						<option value="9">9</option>
						<option value="10">10</option>
					</select></th>

					<th style=" width:16rem;"><label>
						<h6>{{profesor.nombre}}</h6>
					  </label>

					</th>
				</tr>
			</table>
			
			<br>
			<div class="row">
				<div class="col s12 center" >
					<a class="modal-action modal-close waves-effect btn-large"style="width:10rem;" (click)="AutoresExternosSugerencias()">Guardar</a>
				</div>
			</div>







			<!--Tabla Buscar autor existente -->
			<table>
				<tr >
					<th><h6>Buscar autor existente</h6></th>
					
				</tr>

				<tr>
					<th style=" width:8rem; " > <select  [(ngModel)]="externoexistente.prioridad" class="browser-default" style=" width:8rem; ">
						<option value="1">1</option>
						<option value="2">2</option>
						<option value="3">3</option>
						<option value="4">4</option>
						<option value="5">5</option>
						<option value="6">6</option>
						<option value="7">7</option>
						<option value="8">8</option>
						<option value="9">9</option>
						<option value="10">10</option>
					</select></th>
					<th style=" width:22rem; " > <select [(ngModel)]="externoexistente.nombre" class="browser-default" style=" width:22rem; ">
						<option *ngFor="let profesor of Profesores;" value={{profesor.nombre}}>{{profesor.nombre}}</option>
					</select></th>

					
				</tr>
			</table>	
			<br>
			<div class="row">
				<div class="col s12 center" >
					<a class="modal-action modal-close waves-effect btn-large"style="width:10rem;" (click)="ExternoExistente()">Guardar</a>
				</div>
			</div>

<!--Agregar Nuevo autor externo -->
<table>
	<tr>
		<h6>Agregar Nuevo autor externo</h6>
		
	</tr>
	AutorNuevoexterno
	<tr>
		<th > <select [(ngModel)]="AutorNuevoexterno.Prioridad" class="browser-default" style=" width:8rem; ">
			<option value="1">1</option>
			<option value="2">2</option>
			<option value="3">3</option>
			<option value="4">4</option>
			<option value="5">5</option>
			<option value="6">6</option>
			<option value="7">7</option>
			<option value="8">8</option>
			<option value="9">9</option>
			<option value="10">10</option>
		</select>
		
	</th>
	<th class="col s16">
		<p>Los datos para un autor exxterno incluye el o los nombre y el apellido paterno, para soportar el formato APA</p>
	</th>
	
	</tr>
	<tr> 
		<th><h6>Nombre</h6></th>
		<th><input  [(ngModel)]="AutorNuevoexterno.Nombre" required type="text"></th>	
	</tr>
	<tr> 
		<th><h6>Apellido Paterno</h6></th>
		<th><input  [(ngModel)]="AutorNuevoexterno.Apellido" required type="text"></th>	
	</tr>
	<tr> 
		<th><h6>Correo</h6></th>
		<th><input [(ngModel)]="AutorNuevoexterno.Correo" required type="text"></th>	
	</tr>
	
</table>

				
			<br>
			<div class="row">
				<div class="col s12 center" >
					<a class="modal-action modal-close waves-effect btn-large"style="width:10rem;" (click)="crearNuecoAutorExterno()">Guardar</a>
				</div>
			</div>
		</div>
	</div>
</div>



