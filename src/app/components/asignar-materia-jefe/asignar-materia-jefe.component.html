<div class="container">
	<h3 class="center-align">Materias</h3>

	<div class="row">
		<div class="col offset-s3 s3">
			<label class="">A침o Inicial:</label>
			<input type="number" min="1991" max="{{fechaActual}}" step="1" [(ngModel)]="fechaInicial"
				(change)="obtenerMaterias()">
		</div>
		<div class="col s3">
			<label>A침o Final:</label>
			<input type="number" min="{{fechaInicial}}" max="{{fechaActual}}" step="1" [(ngModel)]="fechaFinal"
				(change)="obtenerMaterias()">
		</div>
	</div>

	<div class="row">
		<div class="col offset-s3 s6">
			<label class="">A partir de periodo:</label>
			<select [(ngModel)]="periodoActual" class="browser-default" (change)="actualizarPeriodo()">
				<option *ngFor="let periodo of periodos" [value]="periodo.idPeriodo">
					{{periodo.nombre}}
				</option>
			</select>
		</div>
	</div>

	<div class="row">
		<div class="col offset-s3 s6">
			<label class="">Profesores:</label>
			<select [(ngModel)]="profesorActual" class="browser-default" (change)="actualizarProfesor()">
				<option value="-1" selected>Todos</option>
				<option *ngFor="let profesor of profesores" [value]="profesor.idProfesor">
					{{profesor.nombreProfesor}}
				</option>
			</select>
		</div>
	</div>

	<div class="row">
		<button class="col btn " (click)="abreFormularioAsignarMateria()">
			Asignar nueva materia
		</button>

		<button class="col btn" (click)="abreFormularioMultiAignacion()">
			Multi-asignaci칩n nueva
		</button>
	</div>

	

	<ng-container *ngFor="let profesor of profesores; let i = index">
		<div class="nombre">
			<p style="font-size: medium;">{{profesor.nombreProfesor}}</p>
		</div>
		<table id="tablaMaterias">
			<tr>
				<th class="intro" onclick="sortTable(0, 'str', 'tablaMaterias'); 
                                       sortTable(0, 'str', 'tablaMateriasMulti');">Materia</th>
				<th class="intro" onclick="sortTable(1, 'str', 'tablaMaterias');
			                           sortTable(1, 'str', 'tablaMateriasMulti');">Grupo</th>
				<th class="intro" onclick="sortTable(2, 'str', 'tablaMaterias'); 
			                           sortTable(2, 'str', 'tablaMateriasMulti');">Carrera</th>
				<th class="intro" onclick="sortTable(3, 'str', 'tablaMaterias'); 
			                           sortTable(3, 'str', 'tablaMateriasMulti');">Plan</th>
				<th class="intro" onclick="sortTable(4, 'str', 'tablaMaterias'); 
			                           sortTable(4, 'str', 'tablaMateriasMulti');">Periodo</th>
				<th class="intro">Acciones</th>
			</tr>

			<tr *ngFor="let materia of materiasProfesor">
				<td style="width: 30%;">{{materias.get(materia.idMateria)}}</td>
				<td style="width: 7%;">{{materia.grupo}}</td>
				<td style="width: 25%;">{{materia.nombreCarrera}}</td>
				<td style="width: 7%;">{{materia.plan}}</td>
				<td style="width: 8%;">{{materia.nombrePeriodo}}</td>
				<td colspan="2" style="width: 10%;">Modificar</td>
				<td colspan="2"style="width: 10%;">Eliminar</td>
				<td style="width: 3%;">
					<img *ngIf="materia.actual === 1" src="assets/new.png" alt="logo nuevo" width="100%">
				</td>
			</tr>
		</table>
		<br>
	</ng-container>

	<ng-container *ngFor="let profesor of profesores; let i = index">
		<div class="nombre">
			<p style="font-size: medium;">{{profesor.nombreProfesor}}</p>
		</div>
		<table id="tablaMateriasMulti">
			<tr [hidden]="false">
				<th class="intro" onclick="sortTable(0, 'str', 'tablaMaterias'); 
                                       sortTable(0, 'str', 'tablaMateriasMulti');">Materia</th>
				<th class="intro" onclick="sortTable(1, 'str', 'tablaMaterias');
			                           sortTable(1, 'str', 'tablaMateriasMulti');">Grupo</th>
				<th class="intro" onclick="sortTable(2, 'str', 'tablaMaterias'); 
			                           sortTable(2, 'str', 'tablaMateriasMulti');">Carrera</th>
				<th class="intro" onclick="sortTable(3, 'str', 'tablaMaterias'); 
			                           sortTable(3, 'str', 'tablaMateriasMulti');">Plan</th>
				<th class="intro" onclick="sortTable(4, 'str', 'tablaMaterias'); 
			                           sortTable(4, 'str', 'tablaMateriasMulti');">Periodo</th>
				<th class="intro"></th>
			</tr>
			<tr>
				<td colspan="6" class="multi">
					<p style="font-family: 'Arial Black'; font-size: 15px;">multi-asignaci칩n</p>
				</td>
			</tr>
			<tr *ngFor="let materia of materiasMulti">
				<td style="width: 35%;">{{materias.get(materia.idMateria)}}</td>
				<td style="width: 7%;"><span *ngFor="let grupo of materia.grupos">{{grupo}}<br></span></td>
				<td style="width: 30%;">{{materia.nombreCarrera}}</td>
				<td style="width: 15%;">{{materia.plan}}</td>
				<td style="width: 10%;">{{materia.nombrePeriodo}}</td>
				<td style="width: 3%;">
					<img *ngIf="materia.actual === 1" src="assets/new.png" alt="logo nuevo" width="100%">
				</td>
			</tr>
		</table>
		<br>
	</ng-container>
</div>

<!-- <div class="nombre">
	<p style="font-size: medium;">{{datosProfAux.nombreProfesor}}</p>
</div>
<table id="tablaMaterias">
	<tr>
		<th class="intro" onclick="sortTable(0, 'str', 'tablaMaterias'); 
												sortTable(0, 'str', 'tablaMateriasMulti');">Materia</th>
		<th class="intro" onclick="sortTable(1, 'str', 'tablaMaterias');
											sortTable(1, 'str', 'tablaMateriasMulti');">Grupo</th>
		<th class="intro" onclick="sortTable(2, 'str', 'tablaMaterias'); 
											sortTable(2, 'str', 'tablaMateriasMulti');">Carrera</th>
		<th class="intro" onclick="sortTable(3, 'str', 'tablaMaterias'); 
											sortTable(3, 'str', 'tablaMateriasMulti');">Plan</th>
		<th class="intro" onclick="sortTable(4, 'str', 'tablaMaterias'); 
											sortTable(4, 'str', 'tablaMateriasMulti');">Periodo</th>
		<th class="intro"></th>
	</tr>

	<tr *ngFor="let materia of materiasProfesor">
		<td style="width: 35%;">{{materias.get(materia.idMateria)}}</td>
		<td style="width: 7%;">{{materia.grupo}}</td>
		<td style="width: 30%;">{{materia.nombreCarrera}}</td>
		<td style="width: 15%;">{{materia.plan}}</td>
		<td style="width: 10%;">{{materia.nombrePeriodo}}</td>
		<td style="width: 3%;">
			<img *ngIf="materia.actual === 1" src="assets/new.png" alt="logo nuevo" width="100%">
		</td>
	</tr>
</table> -->